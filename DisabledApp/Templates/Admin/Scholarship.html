{% load static %}
{% include "Admin/Header.html" %}

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8 col-md-10 col-sm-12">
            <div class="card shadow-sm border-0">
                <div class="card-body">
                    <h4 class="card-title text-center mb-4">Scholarship Registration Form</h4>
                    
                    <!-- Error Message Placeholder -->
                    {% if messages %}
                    <div class="alert alert-danger">
                        {% for message in messages %}
                        {{ message }}
                        {% endfor %}
                    </div>
                    {% endif %}

                    <form action="{% url 'scholarship_process' %}" method="post">
                        {% csrf_token %}
                        
                        <!-- Scholarship Name -->
                        <div class="form-group">
                            <label for="scholarshipname">Scholarship Name</label>
                            <input 
                                type="text" 
                                class="form-control" 
                                name="scholarshipname" 
                                id="scholarshipname" 
                                placeholder="Enter Scholarship Name" 
                                required pattern="^[A-Z][a-zA-Z\s]*" 
                                title="First letter should be capitalized.">
                        </div>

                        <!-- Category Name -->
                        <div class="form-group">
                            <label for="categoryid">Category</label>
                            <select name="categoryid" id="categoryid" class="form-control" required>
                                <option value="" disabled selected>Select Category</option>
                                {% for c in category %}
                                <option value="{{ c.categoryid }}">{{ c.categoryname }}</option>
                                {% endfor %}
                            </select>
                        </div>

                        <!-- Description -->
                        <div class="form-group">
                            <label for="scholarshipdesc">Description</label>
                            <textarea 
                                class="form-control" 
                                name="scholarshipdesc" 
                                id="scholarshipdesc" 
                                rows="3" 
                                placeholder="Enter Scholarship Description" 
                                required 
                                pattern="^[A-Z][a-zA-Z\s]*" 
                                title="First letter should be capitalized."></textarea>
                        </div>

                        <!-- Eligibility Criteria -->
                        <div class="form-group">
                            <label for="criteria">Eligibility Criteria</label>
                            <textarea 
                                class="form-control" 
                                name="criteria" 
                                id="criteria" 
                                rows="3" 
                                placeholder="Enter Eligibility Criteria" 
                                required 
                                pattern="^[A-Z][a-zA-Z\s]*" 
                                title="First letter should be capitalized."></textarea>
                        </div>

                        <!-- Application End Date -->
                        <div class="form-group">
                            <label for="enddate">Application End Date</label>
                            <input 
                                type="date" 
                                class="form-control" 
                                name="enddate" 
                                id="enddate" 
                                required>
                        </div>

                        <!-- Application Link -->
                        <div class="form-group">
                            <label for="link">Application Link</label>
                            <input 
                                type="url" 
                                class="form-control" 
                                name="link" 
                                id="link" 
                                placeholder="https://example.com" 
                                required>
                        </div>

                        <!-- Form Buttons -->
                        <div class="text-center">
                            <button type="submit" class="btn btn-primary px-4">Add Scholarship</button>
                            <button type="reset" class="btn btn-secondary px-4">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


{% include "Admin/Footer.html" %}

<!-- JavaScript to Disable Past Dates in Date Picker -->
<script>
    document.addEventListener("DOMContentLoaded", function() {
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0'); // January is 0!
        var yyyy = today.getFullYear();

        var minDate = yyyy + '-' + mm + '-' + dd;
        
        // Set min date for the Application End Date field
        document.getElementById("enddate").setAttribute("min", minDate);
    });
</script>
